# 电子商务平台系统接口文档-V5.0

## 注意事项

1. 下文的响应码作修改,0代表成功,1代表失败
2. 前端发送请求的时候需要在请求头携带token,键为Authorization(原先不是的,记得改),记得给返回的token添加”Bearer ”
3. 下文的创建时间和修改时间的返回数据变为(create_time,update_time)
4. 如果删除的行对应为其他表的外键,在删除的时候就会一同删去其他表的对应行,比如删除某个商品分类,就会同时删除对应分类的所有商品
5. 用户行为表的管理员接口在增/删/改的时候会对对应的表的数据进行修改,比如添加一个收藏操作,就会在对应的收藏表中增加对应的行,除此之外对用户的下单操作也会对order表产生影响,因此管理员在对order表进行增/删/改的操作也会对用户行为表进行对应操作
6. 用户行为表的action列是枚举值[’Car’,’Collect’,’Comment’,’History’,’Order’],为对应的操作的日志,前端将其写为下拉框选择(所有涉及这个列的操作)
7. 给所有批量查询添加一个返回变量all,用于表示符合条件的所有数据的总量
8. action只会记录Order是用户创建的行为,不会记录管理员的操作1

# 一、管理员页面

## 1. 用户管理

### 1.1 用户列表查询

### 1.1.1 基本信息

> 请求路径：/admin/users
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于用户列表数据的条件分页查询
> 

### 1.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| username | 否 | hcsy | 用户名称 |
| email | 否 | gmail | 用户邮箱 |
| address | 否 | GuangDong | 用户地址 |
| page | 是 | 1 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | 是 | 10 | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```
/admin/users?username=hcsy&email=gmail&address=GuangDong&page=1&pageSize=10
```

### 1.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- user_id | number | 非必须 |  | id |  |
| |- username | string | 非必须 |  | 用户名称 |  |
| |- password | string | 非必须 |  | 用户密码 |  |
| |- email | string | 非必须 |  | 用户邮箱 |  |
| |- address | string | 非必须 |  | 用户地址 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 修改时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "user_id": 1,
        "username": "Jack",
        "password": "123456",
        "email": "666@qq.com",
        "address": "Guangzhou",
        "createTime": "2022-09-01T23:06:29",
        "updateTime": "2022-09-01T23:06:29"
      },
      {
        "user_id": 2,
        "username": "Alice",
        "password": "123456",
        "email": "777@qq.com",
        "address": "Guangzhou",
        "createTime": "2022-09-01T23:06:29",
        "updateTime": "2022-09-01T23:06:29"
      }
    ]
  }
}
```

### 1.2 删除用户

### 1.2.1 基本信息

> 请求路径：/admin/users/{ids}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于批量删除用户的数据信息
> 

### 1.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 示例 | 是否必须 | 备注 |
| --- | --- | --- | --- | --- |
| ids | 数组 array | 1,2,3 | 必须 | 商品的id数组 |

请求参数样例：

```
/admin/users/1,2,3
```

### 1.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 1.3 添加用户

### 1.3.1 基本信息

> 请求路径：/admin/users
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于添加用户数据
> 

### 1.3.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 必须 | 用户名称 |
| password | string | 必须 | 用户密码 |
| email | string | 必须 | 用户邮箱 |
| address | string | 必须 | 用户地址 |

请求参数样例：

```json
{
  "username": "Nick",
  "password": "123456",
  "email": "1234@qq.com",
  "address": "Beijing"
}
```

### 1.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 1.4 根据ID查询

### 1.4.1 基本信息

> 请求路径：/admin/users/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据ID查询用户数据
> 

### 1.4.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 用户ID |

请求参数样例：

```
/admin/users/1
```

### 1.4.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |
| |- user_id | number | 非必须 | id |
| |- username | string | 非必须 | 用户名称 |
| |- password | string | 非必须 | 用户密码 |
| |- email | string | 非必须 | 用户邮箱 |
| |- address | string | 非必须 | 用户地址 |
| |- createTime | string | 非必须 | 创建时间 |
| |- updateTime | string | 非必须 | 修改时间 |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
      "user_id": 1,
      "username": "Jack",
      "password": "123456",
      "email": "666@qq.com",
      "address": "Guangzhou",
      "createTime": "2022-09-01T23:06:29",
      "updateTime": "2022-09-01T23:06:29"
    }
}
```

### 1.5 修改用户

### 1.5.1 基本信息

> 请求路径：/admin/users
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于修改用户数据
> 

### 1.5.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 非必须 | id |
| username | string | 非必须 | 用户名称 |
| password | string | 非必须 | 用户密码 |
| email | string | 非必须 | 用户邮箱 |
| address | string | 非必须 | 用户地址 |

请求参数样例：

```json
{
  "user_id": 1,
  "username": "Jack",
  "password": "123456",
  "email": "666@qq.com",
  "address": "Guangzhou"
}
```

### 1.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 2. 商品管理

### 2.1 商品列表查询

### 2.1.1 基本信息

> 请求路径：/admin/com
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于商品列表数据的条件分页查询
> 

### 2.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| product_name | 否 | 篮球 | 商品名称 |
| category_name | 否 | 体育用品 | 商品分类 |
| page | 是 | 1 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | 是 | 10 | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```
/admin/com?product_name=篮球&category_name=体育用品&page=1&pageSize=10
```

### 2.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- product_id | number | 非必须 |  | id |  |
| |- product_name | string | 非必须 |  | 商品名 |  |
| |- price | number | 非必须 |  | 价格 |  |
| |- description | string | 非必须 |  | 描述 |  |
| |- category_id | number | 非必须 |  | 分类id |  |
| |- category_name | string | 非必须 |  | 分类名称 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "product_id": 1,
        "product_name": "篮球",
        "price": 50,
        "description": "唱跳rap",
        "category_id": 1,
        "category_name": "体育运动",
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      },
      {
        "product_id": 2,
        "product_name": "T-shirt",
        "price": 20,
        "description": "夏天穿的",
        "category_id": 2,
        "category_name": "日常服装",
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      }
    ]
  }
}
```

### 2.2 删除商品

### 2.2.1 基本信息

> 请求路径：/admin/com/{ids}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于批量删除商品的数据信息
> 

### 2.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 示例 | 是否必须 | 备注 |
| --- | --- | --- | --- | --- |
| ids | 数组 array | 1,2,3 | 必须 | 商品的id数组 |

请求参数样例：

```
/admin/com/1,2,3
```

### 2.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 2.3 添加商品

### 2.3.1 基本信息

> 请求路径：/admin/com
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于添加商品的信息
> 

### 2.3.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| product_name | string | 非必须 | 商品名 |
| price | number | 非必须 | 价格 |
| description | string | 非必须 | 描述 |
| category_name | string | 非必须 | 分类名称 |

请求数据样例：

```json
{
  "product_name": "篮球",
  "price": 50,
  "description": "唱跳rap",
  "category_name": "体育运动"
}
```

### 2.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 2.4 根据ID查询

### 2.4.1 基本信息

> 请求路径：/admin/com/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据主键ID查询商品的信息
> 

### 2.4.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 商品ID |

请求参数样例：

```
/admin/com/1
```

### 2.4.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- product_id | number | 非必须 |  | id |  |
| |- product_name | string | 非必须 |  | 商品名 |  |
| |- price | number | 非必须 |  | 价格 |  |
| |- description | string | 非必须 |  | 描述 |  |
| |- category_id | number | 非必须 |  | 分类id |  |
| |- category_name | string | 非必须 |  | 分类名称 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "product_id": 1,
    "product_name": "篮球",
    "price": 50,
    "description": "唱跳rap",
    "category_id": 1,
    "category_name": "体育运动",
    "createTime": "2022-09-01T23:06:30",
    "updateTime": "2022-09-02T00:29:04"
  }
}
```

### 2.5 修改商品

### 2.5.1 基本信息

> 请求路径：/admin/com
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于修改商品的数据信息
> 

### 2.5.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| product_id | number | 非必须 | id |
| product_name | string | 非必须 | 商品名 |
| price | number | 非必须 | 价格 |
| description | string | 非必须 | 描述 |
| category_name | string | 非必须 | 分类名称 |

请求数据样例：

```json
{
  "product_id": 1,
  "product_name": "篮球",
  "price": 50,
  "description": "唱跳rap",
  "category_name": "体育运动"
}
```

### 2.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 3. 订单管理

### 3.1 订单列表查询

### 3.1.1 基本信息

> 请求路径：/admin/order
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于订单列表数据的条件分页查询
> 

### 3.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| username | 否 | 张 | 用户名称 |
| product_name | 否 | 1 | 商品名称 |
| begin | 否 | 2010-01-01 | 范围匹配的开始时间(购买日期) |
| end | 否 | 2020-01-01 | 范围匹配的结束时间(购买日期) |
| page | 是 | 1 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | 是 | 10 | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```
/admin/order?username=hcsy&product_name=篮球&begin=2017-09-01&end=2022-09-01&page=1&pageSize=10
```

### 3.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- order_id | number | 非必须 |  | id |  |
| |- username | string | 非必须 |  | 用户名称 |  |
| |- product_name | string | 非必须 |  | 商品名称  |  |
| |- quantity | number | 非必须 |  | 数量 |  |
| |- order_time | string | 非必须 |  | 订单日期 |  |
| |- total_price | number | 非必须 |  | 总价 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "order_id": 1,
        "username": "hcsy",
        "product_name": "篮球",
        "quantity": 1,
        "order_time":"2022-02-22",
        "total_price": 50,
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      },
      {
        "order_id": 2,
        "username": "csc",
        "product_name": "T-shirt",
        "quantity": 2,
        "order_time":"2022-02-22",
        "total_price": 40,
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      }
    ]
  }
}
```

### 3.2 删除订单

### 3.2.1 基本信息

> 请求路径：/admin/order/{ids}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于批量删除订单的数据信息
> 

### 3.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 示例 | 是否必须 | 备注 |
| --- | --- | --- | --- | --- |
| ids | 数组 array | 1,2,3 | 必须 | 订单的id数组 |

请求参数样例：

```
/admin/order/1,2,3
```

### 3.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 3.3 添加订单

### 3.3.1 基本信息

> 请求路径：/admin/order
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于添加订单的信息
> 

### 3.3.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 非必须 | 用户名称 |
| product_name | string | 非必须 | 商品名称  |
| quantity | number | 非必须 | 数量 |
| order_time | string | 非必须 | 订单日期 |

请求数据样例：

```json
{
  "username": "fknapp",
  "product_name": "Least Term",
  "quantity": 1,
  "order_time": "2022-02-22"
}
```

### 3.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 3.4 根据ID查询

### 3.4.1 基本信息

> 请求路径：/admin/order/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据主键ID查询订单的信息
> 

### 3.4.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 订单ID |

请求参数样例：

```
/admin/order/1
```

### 3.4.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- order_id | number | 非必须 |  | id |  |
| |- username | string | 非必须 |  | 用户名称 |  |
| |- product_name | string | 非必须 |  | 商品名称  |  |
| |- quantity | number | 非必须 |  | 数量 |  |
| |- order_time | string | 非必须 |  | 订单日期 |  |
| |- total_price | number | 非必须 |  | 总价 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "order_id": 1,
    "user_id":1,
    "username": "hcsy",
    "product_id":1
    "product_name": "篮球",
    "quantity": 1,
    "order_time": "2022-02-22",
    "total_price": 50,
    "createTime": "2022-09-01T23:06:30",
    "updateTime": "2022-09-02T00:29:04"
  }
}
```

### 3.5 修改订单

### 3.5.1 基本信息

> 请求路径：/admin/order
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于修改订单的数据信息
> 

### 3.5.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| order_id | number | 必须 | id |
| username | string | 非必须 | 用户名称 |
| product_name | string | 非必须 | 商品名称  |
| quantity | number | 非必须 | 数量 |
| order_time | string | 非必须 | 订单日期 |

请求数据样例：

```json
{
  "order_id": 1,
  "username": "hcsy",
  "product_name": "篮球",
  "quantity": 1,
  "order_time": "2022-02-22"
}
```

### 3.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 4. 分类管理

### 4.1 分类列表查询

### 4.1.1 基本信息

> 请求路径：/admin/class
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于分类列表数据查询
> 

### 4.1.2 请求参数

无

### 4.1.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object[ ] | 非必须 | 返回的数据 |
| |- category_id | number | 非必须 | id |
| |- category_name | string | 非必须 | 分类名称 |
| |- createTime | string | 非必须 | 创建时间 |
| |- updateTime | string | 非必须 | 修改时间 |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "category_id": 1,
      "category_name": "体育运动",
      "createTime": "2022-09-01T23:06:29",
      "updateTime": "2022-09-01T23:06:29"
    },
    {
      "category_id": 2,
      "category_name": "日常服装",
      "createTime": "2022-09-01T23:06:29",
      "updateTime": "2022-09-01T23:06:29"
    }
  ]
}
```

### 4.2 删除分类

### 4.2.1 基本信息

> 请求路径：/admin/class/{id}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于根据ID删除分类数据
> 

### 4.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 分类ID |

请求参数样例：

```
/admin/class/1
```

### 4.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 4.3 添加用户

### 4.3.1 基本信息

> 请求路径：/admin/class
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于添加分类数据
> 

### 4.3.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| category_name | string | 非必须 | 分类名称 |

请求参数样例：

```json
{
  "category_name": "体育运动"
}
```

### 4.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 4.4 根据ID查询

### 4.4.1 基本信息

> 请求路径：/admin/class/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据ID查询分类数据
> 

### 4.4.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 分类ID |

请求参数样例：

```
/admin/class/1
```

### 4.4.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |
| |- category_id | number | 非必须 | id |
| |- category_name | string | 非必须 | 分类名称 |
| |- createTime | string | 非必须 | 创建时间 |
| |- updateTime | string | 非必须 | 修改时间 |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "category_id": 1,
    "category_name": "体育运动",
    "createTime": "2022-09-01T23:06:29",
    "updateTime": "2022-09-01T23:06:29"
  }
}
```

### 4.5 修改分类

### 4.5.1 基本信息

> 请求路径：/admin/class
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于修改分类数据
> 

### 4.5.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| category_id | number | 非必须 | id |
| category_name | string | 非必须 | 分类名称 |

请求参数样例：

```json
{
  "category_id": 1,
  "category_name": "体育运动"
}
```

### 4.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 5. 用户行为管理管理

### 5.1 用户行为列表查询

### 5.1.1 基本信息

> 请求路径：/admin/action
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于用户行为列表数据的条件分页查询
> 

### 5.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| username | 否 | csc | 用户名称 |
| action | 否 | Order | 用户行为 |
| begin | 否 | 2010-01-01 | 范围匹配的开始时间(用户行为时间) |
| end | 否 | 2020-01-01 | 范围匹配的结束时间(用户行为时间) |
| page | 是 | 1 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | 是 | 10 | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```
/admin/action?username=csc&action=Order&begin=2017-09-01&end=2022-09-01&page=1&pageSize=10
```

### 5.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- id | number | 非必须 |  | id |  |
| |- user_id | number | 非必须 |  | 用户id |  |
| |- username | string | 非必须 |  | 用户名 |  |
| |- action | string | 非必须 |  | 描述 |  |
| |- timestamp | string | 非必须 |  | 行为时间 |  |
| |- data | json | 非必须 |  | 操作详情 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "id": 1,
        "user_id": 1,
        "username":"hcsy",
        "action": "car",
        "timestamp": "2022-09-01T23:06:30",
        "data": {
          "user_id": 1,
          "product_id": 1,
          "quantity": 2,
          "create_time": "2024-08-06 22:24:07",
          "update_time": "2024-08-06 22:24:07"
        },
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      },
      {
        "id": 1,
        "user_id": 1,
        "username":"hcsy",
        "action": "car",
        "timestamp": "2022-09-01T23:06:30",
        "data": {
          "user_id": 1,
          "product_id": 1,
          "quantity": 2,
          "create_time": "2024-08-06 22:24:07",
          "update_time": "2024-08-06 22:24:07"
        },
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      }
    ]
  }
}
```

### 5.2 删除用户行为

### 5.2.1 基本信息

> 请求路径：/admin/action/{ids}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于批量删除用户行为的数据信息
> 

### 5.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 示例 | 是否必须 | 备注 |
| --- | --- | --- | --- | --- |
| ids | 数组 array | 1,2,3 | 必须 | 商品评论的id数组 |

请求参数样例：

```
/admin/action/1,2,3
```

### 5.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 5.3 添加用户行为

### 5.3.1 基本信息

> 请求路径：/admin/action
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于添加用户行为的信息
> 

### 5.3.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 非必须 | 用户名 |
| action | string | 非必须 | 用户行为  |
| data | json | 非必须 | 用户行为数据 |

请求数据样例：

```json
{
  "username": "fknapp",
  "action": "Order",
  "data": {
    "product_name": "Word Ground",
    "quantity": 2,
    "order_time":"2024-10-01"
  }
}
```

### 5.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 5.3.4 注意事项

五种行为对应的data如下,修改模块和这个一样(注释掉的是不需要的),其中timestamp是完整的ISO格式的日期时间,如2024-10-16T21:14:28.658698

```json
//car
{
  // user_id: id,
  // product_id: id,
  product_name: string,
  quantity,
}
//collect
{
  // user_id: id,
  // product_id: id,
  product_name: string,
}
//comment
{
  // user_id: id,
  // product_id: id,
  product_name: string,
  rating,
  comments: string,
}
//history
{
  // user_id: id,
  search_keywords: string,
  search_time: timestamp,
}
//order
{
  // user_id: id,
  // product_id: id,
  product_name: string,
  quantity,
  order_time: date1,
}
```

### 5.4 根据ID查询

### 5.4.1 基本信息

> 请求路径：/admin/action/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据主键ID查询用户行为的信息
> 

### 5.4.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 商品ID |

请求参数样例：

```
/admin/action/1
```

### 5.4.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- id | number | 非必须 |  | id |  |
| |- user_id | number | 非必须 |  | 用户id |  |
| |- username | string | 非必须 |  | 用户名 |  |
| |- action | string | 非必须 |  | 描述 |  |
| |- timestamp | string | 非必须 |  | 行为时间 |  |
| |- data | json | 非必须 |  | 操作详情 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 1,
    "user_id": 1,
    "username":"hcsy",
    "action": "car",
    "timestamp": "2022-09-01T23:06:30",
    "data": {
      "user_id": 1,
      "product_id": 1,
      "product_name":"ball",
      "quantity": 2,
      "create_time": "2024-08-06 22:24:07",
      "update_time": "2024-08-06 22:24:07"
    },
    "createTime": "2022-09-01T23:06:30",
    "updateTime": "2022-09-02T00:29:04"
  }
}
```

### 5.4.4 注意事项

查询出的结果中包括了用户名和商品名(如果有),用于修改回调使用

### 5.5 修改用户行为

### 5.5.1 基本信息

> 请求路径：/admin/action
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于修改用户行为的数据信息
> 

### 5.5.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 非必须 | id |
| userame | string | 非必须 | 用户名 |
| action | string | 非必须 | 用户行为 |
| data | json | 非必须 | 用户行为数据 |

请求数据样例：

```json
{
	"id":1,
  "username": "hunteranthony",
  "action": "Order",
  "data": {
    "product_name": "Break Fast",
    "quantity": 3,
    "order_time":"2024-10-02"
  }
}
```

### 5.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 5.5.4 注意事项

该修改不能修改用户的行为类型,请求参数中的action参数用于判断data的数据段是否正确,前端只需将原始的action类型发送过来即可

# 二、用户界面

## 1. 用户个人信息界面

### 1.1 查询个人数据

### 1.1.1 基本信息

> 请求路径：/user/user/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于查询当前用户数据
> 

### 1.1.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 用户ID |

请求参数样例：

```
/user/user/1
```

### 1.1.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |
| |- user_id | number | 非必须 | id |
| |- username | string | 非必须 | 用户名称 |
| |- password | string | 非必须 | 用户密码 |
| |- email | string | 非必须 | 用户邮箱 |
| |- address | string | 非必须 | 用户地址 |
| |- createTime | string | 非必须 | 创建时间 |
| |- updateTime | string | 非必须 | 修改时间 |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
      "user_id": 1,
      "username": "Jack",
      "password": "123456",
      "email": "666@qq.com",
      "address": "Guangzhou",
      "createTime": "2022-09-01T23:06:29",
      "updateTime": "2022-09-01T23:06:29"
    }
}
```

### 1.2 个人密码确认

### 1.2.1 基本信息

> 请求路径：/user/user
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于确认用户密码
> 

### 1.2.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 非必须 | id |
| password | string | 非必须 | 用户密码 |

请求参数样例：

```json
{
  "user_id": 1,
  "password": "666666"
}
```

### 1.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 1.2 修改个人信息

### 1.2.1 基本信息

> 请求路径：/user/user
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于修改用户数据
> 

### 1.2.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 非必须 | id |
| username | string | 非必须 | 用户名称 |
| password | string | 非必须 | 用户密码 |
| email | string | 非必须 | 用户邮箱 |
| address | string | 非必须 | 用户地址 |

请求参数样例：

```json
{
  "user_id": 1,
  "username": "Jack",
  "password": "666666",
  "email": "666@qq.com",
  "address": "Guangzhou"
}
```

### 1.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 2. 商品界面

### 2.1 商品列表查询

### 2.1.1 基本信息

> 请求路径：/user/com
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于商品列表数据的条件分页查询
> 

### 2.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| user_id | 是 | 1 | 用户id |
| product_name | 否 | 篮球 | 商品名称 |
| category_name | 否 | 体育用品 | 商品分类 |
| page | 是 | 1 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | 是 | 10 | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```
/user/com?user_id=1&product_name=篮球&category_name=体育用品&page=1&pageSize=10
```

### 2.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- all | number | 必须 |  | 符合条件的所有记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- product_id | number | 非必须 |  | id |  |
| |- product_name | string | 非必须 |  | 商品名 |  |
| |- price | number | 非必须 |  | 价格 |  |
| |- description | string | 非必须 |  | 描述 |  |
| |- category_id | number | 非必须 |  | 分类id |  |
| |- category_name | string | 非必须 |  | 分类名称 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "all":1000,
    "rows": [
      {
        "product_id": 1,
        "product_name": "篮球",
        "price": 50,
        "description": "唱跳rap",
        "category_id": 1,
        "category_name": "体育运动",
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      },
      {
        "product_id": 2,
        "product_name": "T-shirt",
        "price": 20,
        "description": "夏天穿的",
        "category_id": 2,
        "category_name": "日常服装",
        "createTime": "2022-09-01T23:06:30",
        "updateTime": "2022-09-02T00:29:04"
      }
    ]
  }
}
```

### 2.1.4 注意事项

如果product_name不为空,应当将从前端发送过来的关键字保存到搜索记录表中,前端需要实现点击搜索框显示历史搜索记录,具体接口在下面

### 2.2 购买商品

### 2.2.1 基本信息

> 请求路径：/user/buy
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于向后端发出购买商品的请求
> 

### 2.2.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 必须 | 用户id |
| product_id | number | 必须 | 商品id |
| quantity | string | 必须 | 数量 |

请求数据样例：

```json
{
  "user_id": 1,
  "product_id": 1,
  "quantity": 2
}
```

### 2.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 2.3 评论商品

### 2.3.1 基本信息

> 请求路径：/user/comment
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于向后端发出评论商品的请求
> 

### 2.3.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 必须 | 用户id |
| product_id | number | 必须 | 商品id |
| rating | number | 必须 | 评论等级 |
| comment | string | 必须 | 评论内容 |

请求数据样例：

```json
{
  "user_id": 1,
  "product_id": 1,
  "rating": 2,
  "comment": "nice"
}
```

### 2.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 2.4 将商品添加到购物车

### 2.4.1 基本信息

> 请求路径：/user/car
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于向后端发出添加商品到购物车的请求
> 

### 2.4.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 必须 | 用户id |
| product_id | number | 必须 | 商品id |
| quantity | number | 必须 | 商品数量 |

请求数据样例：

```json
{
  "user_id": 1,
  "product_id": 1,
  "quantity": 2
}
```

### 2.4.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 2.5 将商品添加到收藏夹

### 2.5.1 基本信息

> 请求路径：/user/collect
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于向后端发出添加商品到收藏夹的请求
> 

### 2.5.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 必须 | 用户id |
| product_id | number | 必须 | 商品id |

请求数据样例：

```json
{
  "user_id": 1,
  "product_id": 1
}
```

### 2.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 2.6 搜索历史查询

### 2.6.1 基本信息

> 请求路径：/user/history
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于商品列表数据的条件分页查询
> 

### 2.6.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| user_id | 是 | 1 | 当前用户的id |
| pageSize | 是 | 10 | 获取的搜索记录的最大条数 |

请求数据样例：

```
/user/history?user_id=1&pageSize=10
```

### 2.6.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- search_keywords | string | 必须 |  | 搜索关键字 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 3,
    "rows": ["c", "h", "yeah"]
  }
}
```

### 2.6.4 注意事项

返回的历史搜索记录按照时间顺序进行排序,返回最近的pageSize条数据

### 2.7 商品评论查询

### 2.7.1 基本信息

> 请求路径：/user/comment
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于商品评论数据的条件分页查询
> 

### 2.7.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注 |
| --- | --- | --- | --- |
| product_id | 是 | 1 | 商品id |
| page | 是 | 1 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | 是 | 10 | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```
/user/comment?product_id=1&page=1&pageSize=10
```

### 2.7.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- user_id | number | 非必须 |  | id |  |
| |- username | string | 非必须 |  | 商品名 |  |
| |- rating | number | 非必须 |  | 评论等级  |  |
| |- comment | string | 非必须 |  | 评论内容 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "rows": [
      {
        "user_id": 1,
        "username": "hcsy",
        "rating": 5,
        "comment": "good"
      },
      {
        "user_id": 1,
        "username": "hcsy",
        "rating": 5,
        "comment": "good"
      }
    ]
  }
}
```

### 2.8 商品分类查询

### 2.8.1 基本信息

> 请求路径：/user/class
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于商品分类列表数据查询
> 

### 2.8.2 请求参数

无

### 2.8.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object[ ] | 非必须 | 返回的数据 |
| |- category_id | number | 非必须 | id |
| |- category_name | string | 非必须 | 分类名称 |
| |- createTime | string | 非必须 | 创建时间 |
| |- updateTime | string | 非必须 | 修改时间 |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": [
    {
      "category_id": 1,
      "category_name": "体育运动",
      "createTime": "2022-09-01T23:06:29",
      "updateTime": "2022-09-01T23:06:29"
    },
    {
      "category_id": 2,
      "category_name": "日常服装",
      "createTime": "2022-09-01T23:06:29",
      "updateTime": "2022-09-01T23:06:29"
    }
  ]
}
```

## 3. 购物车界面

### 3.1 查询购物车

### 3.1.1 基本信息

> 请求路径：/user/car/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据用户ID查询购物车的信息
> 

### 3.1.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 用户ID |

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| page | number | 必须 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | number | 必须 | 分页查询的每页记录数，如果未指定，默认为10 |

1

请求参数样例：

```
/user/car/1?page=1&pageSize=10
```

### 3.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- all | number | 必须 |  | 满足条件的所有记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- product_id | number | 非必须 |  | id |  |
| |- product_name | string | 非必须 |  | 商品名 |  |
| |- quantity | number | 非必须 |  | 数量 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "all": 2,
    "rows": [
      {
        "product_id": 1,
        "product_name": "篮球",
        "quantity": 2
      },
      {
        "product_id": 3,
        "product_name": "裤子",
        "quantity": 1
      }
    ]
  }
}
```

### 3.2 删除购物车

### 3.2.1 基本信息

> 请求路径：/user/car/{ids}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于根据ID删除购物车数据
> 

### 3.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| ids[0] | number | 必须 | 用户ID |
| ids[1] | number | 必须 | 商品ID |

注意事项：只能有两个数，分别表示用户ID和商品ID

请求参数样例：

```
/user/car/1,1
```

### 3.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 3.3 将购物车商品进行购买

### 3.3.1 基本信息

> 请求路径：/user/car
> 
> 
> 请求方式：PUT
> 
> 接口描述：该接口用于购买购物车中的商品
> 

### 3.3.2 请求参数

格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| user_id | number | 必须 | 用户id |
| product_id | number | 必须 | 商品id |

请求参数样例：

```json
{
  "user_id": 1,
  "product_id": 2
}
```

### 3.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

### 3.3.4 注意事项

在将购物车的内容添加到订单中时,会删除对应

## 4. 收藏夹界面

### 4.1 查询收藏夹

### 4.1.1 基本信息

> 请求路径：/user/collect/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据用户ID查询收藏夹的信息
> 

### 4.1.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 用户ID |

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| page | number | 必须 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | number | 必须 | 分页查询的每页记录数，如果未指定，默认为10 |

请求参数样例：

```
/user/collect/1?page=1&pageSize=10
```

### 4.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- all | number | 必须 |  | 满足条件的所有记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- product_id | number | 非必须 |  | id |  |
| |- product_name | string | 非必须 |  | 商品名 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "all": 2,
    "rows": [
      {
        "product_id": 1,
        "product_name": "篮球"
      },
      {
        "product_id": 3,
        "product_name": "裤子"
      }
    ]
  }
}
```

### 4.2 删除收藏

### 4.2.1 基本信息

> 请求路径：/user/collect/{ids}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于根据ID删除收藏夹数据
> 

### 4.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| ids[0] | number | 必须 | 用户ID |
| ids[1] | number | 必须 | 商品ID |

注意事项：只能有两个数，分别表示用户ID和商品ID

请求参数样例：

```
/user/collect/1,1
```

### 4.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 5. 订单界面

### 5.1 查询订单

### 5.1.1 基本信息

> 请求路径：/user/order/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据用户ID查询用户的订单的信息
> 

### 5.1.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 用户ID |

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| page | number | 必须 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | number | 必须 | 分页查询的每页记录数，如果未指定，默认为10 |

请求参数样例：

```
/user/collect/1?page=1&pageSize=10
```

### 5.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- all | number | 必须 |  | 满足条件的所有记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- order_id | number | 必须 |  | 订单id |  |
| |- product_id | number | 必须 |  | id |  |
| |- product_name | string | 必须 |  | 商品名 |  |
| |- quantity | number | 必须 |  | 商品数量 |  |
| |- order_time | string | 必须 |  | 订单日期 |  |
| |- total_price | number | 非必须 |  | 总价 |  |
| |- createTime | string | 非必须 |  | 创建时间 |  |
| |- updateTime | string | 非必须 |  | 更新时间 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "all": 2,
    "rows": [
      {
        "order_id": 1,
        "product_id": 1,
        "product_name": "篮球",
        "quantity": 1,
        "order_time": "2025-05-29",
        "total_price":50,
        "createTime": "2022-09-01T23:06:29",
        "updateTime": "2022-09-01T23:06:29"
      },
      {
        "order_id": 1,
        "product_id": 3,
        "product_name": "裤子",
        "quantity": 1,
        "order_time": "2025-05-29",
        "total_price":50,
        "createTime": "2022-09-01T23:06:29",
        "updateTime": "2022-09-01T23:06:29"
      }
    ]
  }
}
```

### 5.2 删除订单

### 5.2.1 基本信息

> 请求路径：/user/order/{id}
> 
> 
> 请求方式：DELETE
> 
> 接口描述：该接口用于根据ID删除订单数据
> 

### 5.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 订单ID |

注意事项：只能有两个数，分别表示用户ID和商品ID

请求参数样例：

```
/user/order/1?page=1&pageSize=10
```

### 5.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| code | number | 必须 | 响应码，1 代表成功，0 代表失败 |
| msg | string | 非必须 | 提示信息 |
| data | object | 非必须 | 返回的数据 |

响应数据样例：

```json
{ "code": 1, "msg": "success", "data": null }
```

## 6. 评论记录界面

### 6.1 查询评论

### 6.1.1 基本信息

> 请求路径：/user/comment/{id}
> 
> 
> 请求方式：GET
> 
> 接口描述：该接口用于根据用户ID查询用户的订单的信息
> 

### 6.1.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| id | number | 必须 | 用户ID |

参数格式：路径参数

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| page | number | 必须 | 分页查询的页码，如果未指定，默认为1 |
| pageSize | number | 必须 | 分页查询的每页记录数，如果未指定，默认为10 |

请求参数样例：

```
/user/comment/1?page=1&pageSize=10
```

### 6.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 , 0 失败 |  |
| msg | string | 必须 |  | 提示信息 |  |
| data | object | 必须 |  | 返回的数据 |  |
| |- total | number | 必须 |  | 总记录数 |  |
| |- all | number | 必须 |  | 满足条件的所有记录数 |  |
| |- rows | object [] | 必须 |  | 数据列表 | item 类型: object |
| |- product_id | number | 必须 |  | id |  |
| |- product_name | string | 必须 |  | 商品名 |  |
| |- rating | number | 必须 |  | 商品等级 |  |
| |- comment | string | 必须 |  | 评论内容 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 2,
    "all": 2,
    "rows": [
      {
        "product_id": 1,
        "product_name": "篮球",
        "rating": 5,
        "comment": "Would though sense change above rock person there somebody so whom remember wish."
      },
      {
        "product_id": 3,
        "product_name": "裤子",
        "quantity": 4,
        "order_time": "Region somebody avoid meet yard body."
      }
    ]
  }
}
```

PS: 别问我为什么没有删除和修改评论,因为这个系统要防止控评,同时让用户注意评论用语,因为一旦评论,评论就永久存在

# 三、登录接口

## 1.1 管理员登录

### 1.1.1 基本信息

> 请求路径：/login/admin
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于管理员登录电子商务平台系统，登录完毕后，系统下发JWT令牌。
> 

### 1.1.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 必须 | 用户名 |
| password | string | 必须 | 密码 |

请求数据样例：

```json
{ "username": "hcsy", "password": "123456" }
```

### 1.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 ; 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | string | 必须 |  | 返回的数据 , jwt令牌 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": "eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoi6YeR5bq4IiwiaWQiOjEsInVzZXJuYW1lIjoiamlueW9uZyIsImV4cCI6MTY2MjIwNzA0OH0.KkUc_CXJZJ8Dd063eImx4H9Ojfrr6XMJ-yVzaWCVZCo"
}
```

## 1.2 用户登录

### 1.2.1 基本信息

> 请求路径：/login/user
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于用户登录电子商务平台系统，登录完毕后，系统下发JWT令牌。
> 

### 1.2.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 必须 | 用户名 |
| password | string | 必须 | 密码 |

请求数据样例：

```json
{ "username": "hcsy", "password": "123456" }
```

### 1.2.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 ; 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | string | 必须 |  | 返回的数据 , jwt令牌 |  |
| user_id | number | 必须  |  | 用户id |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": "eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoi6YeR5bq4IiwiaWQiOjEsInVzZXJuYW1lIjoiamlueW9uZyIsImV4cCI6MTY2MjIwNzA0OH0.KkUc_CXJZJ8Dd063eImx4H9Ojfrr6XMJ-yVzaWCVZCo",
  "user_id":1
}
```

### 1.2.4 注意事项

user_id用于后续用户功能的接口,前端需要保存

## 1.3 备注说明

> 用户登录成功后，系统会自动下发JWT令牌，然后在后续的每次请求中，都需要在请求头header中携带到服务端，请求头的名称为 token ，值为 登录时下发的JWT令牌。
> 
> 
> 如果检测到用户未登录，则会返回如下固定错误信息：
> 
> ```json
> {  "code": 0,  "msg": "身份认证失败!",  "data": null}
> ```
> 

## 1.4 用户注册

### 1.4.1 基本信息

> 请求路径：/login/reg
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于管理员登录电子商务平台系统，登录完毕后，系统下发JWT令牌。
> 

### 1.4.2 请求参数

参数格式：application/json

参数说明：

| 参数名 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 必须 | 用户名称 |
| password | string | 必须 | 用户密码 |
| email | string | 必须 | 用户邮箱 |
| address | string | 必须 | 用户地址 |

请求数据样例：

```json
{
  "username": "Nick",
  "password": "123456",
  "email": "1234@qq.com",
  "address": "Beijing"
}
```

### 1.4.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 1 成功 ; 0 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | string | 必须 |  | 返回的数据 , jwt令牌 |  |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": null
}
```

## 1.5 特别说明

用户登录和管理员登录之后的界面不同,故jwt令牌的密钥也要不同

# 四、验证token接口

## 1.1 验证管理员token

### 1.1.1 基本信息

> 请求路径：/verify/admin
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于验证管理员token是否正确。
> 

### 1.1.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| token | string | 必须 | 对应的管理员token |

请求数据样例：

```json
{ "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Imhjc3kiLCJwYXNzd29yZCI6IiIsInVzZXJfcGljIjoiIiwiaWF0IjoxNzMwOTgzOTg0LCJleHAiOjE3MzEwMTk5ODR9.2XJtMSDogiNkv2BfnLE9YjSfRL1boY10XsG2E2bsn6M" }
```

### 1.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 0 成功 ; 1失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | string | 非必须 |  |  |  |

响应数据样例：

```json
{
  "code": 0,
  "msg": "success",
  "data": null
}
```

## 1.2 用户token验证

### 1.2.1 基本信息

> 请求路径：/verify/user
> 
> 
> 请求方式：POST
> 
> 接口描述：该接口用于检验用户的token是否正确
> 

### 1.2.2 请求参数

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 备注 |
| --- | --- | --- | --- |
| username | string | 必须 | 用户名 |

请求数据样例：

```json
{ "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Imhjc3kiLCJwYXNzd29yZCI6IiIsInVzZXJfcGljIjoiIiwiaWF0IjoxNzMwOTgzOTg0LCJleHAiOjE3MzEwMTk5ODR9.2XJtMSDogiNkv2BfnLE9YjSfRL1boY10XsG2E2bsn6M" }
```

### 1.2.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| --- | --- | --- | --- | --- | --- |
| code | number | 必须 |  | 响应码, 0 成功 ; 1 失败 |  |
| msg | string | 非必须 |  | 提示信息 |  |
| data | string | 非必须 |  |  |  |

响应数据样例：

```json
{
  "code": 0,
  "msg": "success",
  "data": null
}
```

## 1.3 备注说明

如果验证token失败，则会返回如下固定错误信息：

```json
{  "code": 0,  "msg": "token有问题",  "data": null}
```